### Configuration
@baseUrl = http://localhost:3000
@controller = api/withdrawals

# ==========================================
# 1. VÃ‰RIFICATION DES LIMITES ET PARAMÃˆTRES
# ==========================================

### ğŸ” 1.1 VÃ©rifier les limites avant un retrait (FC)
# Valide: horaires, montants min/max, solde disponible
POST {{baseUrl}}/{{controller}}/verify-limites
Content-Type: application/json

{
  "compte": "MW-PRI-G951F8",
  "montant": 25000,
  "devise": "FC"
}

###

### ğŸ” 1.2 VÃ©rifier les limites avant un retrait (USD)
POST {{baseUrl}}/{{controller}}/verify-limites
Content-Type: application/json

{
  "compte": "MW-PRI-G951F8",
  "montant": 50,
  "devise": "USD"
}

###

# ==========================================
# 2. CRÃ‰ATION DE RETRAITS
# ==========================================

### ğŸ”´ 2.1 CrÃ©er un Retrait (FC)
# PrÃ©requis: Le compte MW-PRI-G951F8 doit avoir un solde suffisant en FC
POST {{baseUrl}}/{{controller}}
Content-Type: application/json
vfvf
{
  "compte": "MW-PRI-G951F8",
  "devise": "FC",
  "montant": 25000,
  "dateOperation": "2026-03-01",
  "description": "Retrait pour frais scolaires"
}

###

### ğŸ”´ 2.2 CrÃ©er un Retrait (USD)
# PrÃ©requis: Le compte doit avoir un solde en USD
POST {{baseUrl}}/{{controller}}
Content-Type: application/json

{
  "compte": "MW-PRI-G951F8",
  "devise": "USD",
  "montant": 50,
  "dateOperation": "2026-03-01",
  "description": "Retrait en devise Ã©trangÃ¨re"
}

###

### ğŸ”´ 2.3 CrÃ©er un Retrait (Montant minimal FC)
POST {{baseUrl}}/{{controller}}
Content-Type: application/json

{
  "compte": "MW-PRI-G951F8",
  "devise": "FC",
  "montant": 5000,
  "dateOperation": "2026-03-01",
  "description": "Petit retrait FC"
}

###

### ğŸ”´ 2.4 CrÃ©er un Retrait (Montant minimal USD)
POST {{baseUrl}}/{{controller}}
Content-Type: application/json

{
  "compte": "MW-PRI-G951F8",
  "devise": "USD",
  "montant": 10,
  "dateOperation": "2026-03-01",
  "description": "Petit retrait USD"
}

###

# ==========================================
# 3. CONSULTATION ET HISTORIQUE
# ==========================================

### ğŸ“‹ 3.1 Lister tous les retraits effectuÃ©s
GET {{baseUrl}}/{{controller}}
Content-Type: application/json

###

### ğŸ“œ 3.2 Historique des retraits d'un compte spÃ©cifique
# Remplacez "MW-PRI-G951F8" par un vrai numÃ©ro de compte
GET {{baseUrl}}/{{controller}}/compte/MW-PRI-G951F8
Content-Type: application/json

###

### ğŸ“œ 3.3 Historique d'un autre compte
GET {{baseUrl}}/{{controller}}/compte/MW-PRI-ABC123
Content-Type: application/json

###

# ==========================================
# 4. TESTS D'ERREUR ET CAS LIMITES
# ==========================================

### âŒ 4.1 Retrait avec montant trop bas (FC)
# Erreur attendue: montant minimum non atteint
POST {{baseUrl}}/{{controller}}
Content-Type: application/json

{
  "compte": "MW-PRI-G951F8",
  "devise": "FC",
  "montant": 100,
  "dateOperation": "2026-03-01",
  "description": "Montant trop bas - doit Ã©chouer"
}

###

### âŒ 4.2 Retrait avec montant trop Ã©levÃ©
# Erreur attendue: montant maximum dÃ©passÃ©
POST {{baseUrl}}/{{controller}}
Content-Type: application/json

{
  "compte": "MW-PRI-G951F8",
  "devise": "FC",
  "montant": 10000000,
  "dateOperation": "2026-03-01",
  "description": "Montant trop Ã©levÃ© - doit Ã©chouer"
}

###

### âŒ 4.3 Retrait d'un compte inexistant
POST {{baseUrl}}/{{controller}}
Content-Type: application/json

{
  "compte": "MW-PRI-INVALID",
  "devise": "FC",
  "montant": 50000,
  "dateOperation": "2026-03-01",
  "description": "Compte inexistant"
}

###

### âŒ 4.4 VÃ©rification avec montant nÃ©gatif
POST {{baseUrl}}/{{controller}}/verify-limites
Content-Type: application/json

{
  "compte": "MW-PRI-G951F8",
  "montant": -10000,
  "devise": "FC"
}

###

# ==========================================
# NOTES IMPORTANTES
# ==========================================
# - Les retraits incluent automatiquement le calcul des frais selon les paliers:
#   * Montant â‰¤ 50 USD (â‰¤ 110,865 FC): 3% de frais
#   * Montant â‰¤ 200 USD (â‰¤ 443,460 FC): 2.5% de frais
#   * Montant > 200 USD (> 443,460 FC): 1.5% de frais
#
# - Les horaires des retraits sont contrÃ´lÃ©s (dÃ©but et fin configurables)
#
# - Chaque retrait crÃ©e une opÃ©ration de type RETRAIT dans l'Ã©pargne
#
# - Un solde minimum doit Ãªtre maintenu aprÃ¨s le retrait
